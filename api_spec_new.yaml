openapi: 3.0.3
info:
  title: Yandex Ambassador CRM API
  description: Описание API для CRM системы проекта Yandex Ambassador
  version: 1.0.0
servers:
  - url: http://localhost:8000/
    description: Локальный сервер джанги

paths:
  # Авторизация
  /api/v1/auth/token/login/:
    post:
      tags:
        - Авторизация
      description: Получение токена аутентификации пользователя.
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenCreate'
      responses:
        201:
          description: Успешная авторизация
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenGetResponse'
        400:
          $ref: '#/components/responses/AuthorizationError'
  /api/v1/auth/token/logout/:
    post:
      security:
        - Token: [ ]
      tags:
        - Авторизация
      description: Удалить токена аутентификации пользователя.
      parameters: [ ]
      responses:
        204:
          description: 'Токен удален'
        401:
          $ref: '#/components/responses/AuthenticationError'

  # Амбассадоры
  /api/v1/ambassador/:
    get:
      security:
        - Token: [ ]
      tags:
        - Амбассадор
      description: Получить список амбассадоров/кандидатов
      parameters:
        - name: status
          required: false
          in: query
          description: Статус амбассадора/кадидата
          schema:
            type: array
            items:
              type: string
              format: uuid
        - name: sex
          required: false
          in: query
          description: Пол (0 - Мужчины, 1 - Женщины)
          schema:
            type: integer
            enum: [ 0, 1 ]
        - name: programs
          required: false
          in: query
          description: Программы обучения
          schema:
            type: array
            items:
              type: string
              format: uuid
        - name: search
          required: false
          in: query
          description: Поиск по имени, программе
          schema:
            type: string
        - name: page
          required: false
          in: query
          description: Номер страницы
          schema:
            type: integer
        - name: limit
          required: false
          in: query
          description: Количество объектов на странице
          schema:
            type: integer
      responses:
        200:
          $ref: '#/components/responses/AmbassadorList'
        401:
          $ref: '#/components/responses/AuthenticationError'
    post:
      security:
        - Token: [ ]
      tags:
        - Амбассадор
      description: Создать амбассадора/кандидата
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AmbassadorCreate'
      responses:
        200:
          $ref: '#/components/responses/AmbassadorCreate'
        400:
          $ref: '#/components/responses/ValidationError'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'
  /api/v1/ambassador/{ambassador_id}/:
    get:
      security:
        - Token: [ ]
      tags:
        - Амбассадор
      parameters:
        - name: ambassador_id
          required: true
          in: path
          description: ID амбассадора/кандидата
          schema:
            type: string
            format: uuid
      description: Получить данные амбассадора/кандидата
      responses:
        200:
          $ref: '#/components/responses/AmbassadorFullInfo'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'
    patch:
      security:
        - Token: [ ]
      tags:
        - Амбассадор
      parameters:
        - name: ambassador_id
          required: true
          in: path
          description: ID амбассадора/кандидата
          schema:
            type: string
            format: uuid
      description: 'Обновить данные амбассадора/кандидата.'
      requestBody:
        description: 'Все поля являются не обязательными. Обновляются только заданные поля.<br><b>Для активностей и ачивок передается полный список установленных для амбассадора значений</b>'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AmbassadorUpdate'
      responses:
        200:
          $ref: '#/components/responses/AmbassadorFullInfo'
        400:
          $ref: '#/components/responses/ValidationError'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'

  # Отчеты
  /api/v1/ambassador/{ambassador_id}/reports/:
    get:
      tags:
        - Амбассадор
      security:
        - Token: [ ]
      parameters:
        - name: ambassador_id
          required: true
          in: path
          description: ID амбассадора/кандидата
          schema:
            type: string
            format: uuid
      description: Получить список отчетов амбассадора/кандидата
      responses:
        200:
          $ref: '#/components/responses/ReportList'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'
  /api/v1/report/:
    post:
      tags:
        - Отчет
      security:
        - Token: [ ]
      description: Создать отчет амбассадора
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportCreate'
      responses:
        200:
          $ref: '#/components/responses/ReportInfo'
        400:
          $ref: '#/components/responses/ValidationError'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'
  /api/v1/report/{report_id}:
    get:
      tags:
        - Отчет
      security:
        - Token: [ ]
      parameters:
        - name: report_id
          required: true
          in: path
          description: ID отчета
          schema:
            type: string
            format: uuid
      description: Получить отчет амбассадора
      responses:
        200:
          $ref: '#/components/responses/ReportInfo'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - Отчет
      security:
        - Token: [ ]
      parameters:
        - name: report_id
          required: true
          in: path
          description: ID отчета
          schema:
            type: string
            format: uuid
      description: обновить отчет амбассадора
      requestBody:
        description: 'Все поля являются не обязательными. Обновляются только заданные поля.'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReportUpdate'
      responses:
        200:
          $ref: '#/components/responses/ReportInfo'
        401:
          $ref: '#/components/responses/AuthenticationError'
        404:
          $ref: '#/components/responses/NotFound'

  # вспомогательные функции
  /api/v1/utility/goals:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список целей обучения
      responses:
        200:
          $ref: '#/components/responses/GoalList'
  /api/v1/utility/activities:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список активностей
      responses:
        200:
          $ref: '#/components/responses/ActivityList'
  /api/v1/utility/achivies:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список ачивок
      responses:
        200:
          $ref: '#/components/responses/AchiveList'
  /api/v1/utility/programs:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список программ обучения
      responses:
        200:
          $ref: '#/components/responses/ProgramList'
  
  /api/v1/utility/ambassador_statuses:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список статусов амбассадора
      responses:
        200:
          $ref: '#/components/responses/AmbassadorStatusList'
  /api/v1/utility/placements:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список площадок размешения
      responses:
        200:
          $ref: '#/components/responses/GoalList'
  /api/v1/utility/report_statuses:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список статусов отчетов
      responses:
        200:
          $ref: '#/components/responses/ReportStatusList'
  /api/v1/utility/report_types:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список типов отчетов
      responses:
        200:
          $ref: '#/components/responses/ReportTypeList'
  /api/v1/utility/delivery_statuses:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список статусов доставки
      responses:
        200:
          $ref: '#/components/responses/DeliveryStatusList'
  /api/v1/utility/message_statuses:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список статусов сообщений
      responses:
        200:
          $ref: '#/components/responses/MessageStatusList'
  /api/v1/utility/message_types:
    get:
      tags:
        - Вспомогательные функции
      description: Получить список типов сообщений
      responses:
        200:
          $ref: '#/components/responses/MessageTypeList'

components:
  schemas:
    TokenCreate:
      type: object
      properties:
        email:
          type: string
        password:
          type: string
      required:
        - password
        - email
    TokenGetResponse:
      type: object
      properties:
        auth_token:
          type: string
    AuthorizationError:
      description: Ошибка аутентификации
      type: object
      properties:
        non_field_errors:
          description: 'Описание ошибки'
          example: "Невозможно войти с предоставленными учетными данными."
          type: string
    AuthenticationError:
      description: Ошибка авторизации
      type: object
      properties:
        detail:
          description: 'Описание ошибки'
          example: "Учетные данные не были предоставлены."
          type: string
    Goal:
      description: Цель обучения
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID цели
          example: '8440ce07-e1ce-4914-a1d0-d25b5ad9f161'
        goal_name:
          type: string
          description: Название цели
          example: 'Получение новой профессии'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    Activity:
      description: Вид деятельности
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID вида деятельности
          example: 'd65747f0-ede2-4ed9-8dcb-6b553370eaa7'
        activity_name:
          type: string
          description: Название вида деятельности
          example: 'Вести блог'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    Achive:
      description: Ачивка
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID ачивки
          example: '58cee7d5-f7a5-44d5-9ccf-5d6a1056dbc4'
        achive_name:
          type: string
          description: Название ачивки
          example: 'Друг'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    AmbassadorStatus:
      description: Статус амбассадора
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID статуса амбассадора
          example: '59116eca-9b39-4fb0-a985-2ce52b492176'
        status_name:
          type: string
          description: Название статуса амбассадора
          example: 'Активный'
        sort_level:
          type: integer
          description: Уровень сортировки
          example: 1
        available:
          type: boolean
          description: доступность для выбора
          example: True
    TelegramBot:
      description: Данные телеграм бота амбассадора
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID статуса амбассадора
          example: 'dd60fa28-544b-43fb-9e7e-491aa16a14cf'
        telegram_id:
          type: string
          description: Telegram ID амбассадора
          example: '12345678'
        nickname:
          type: string
          description: Telegram nickname амбассадора
          example: 'superuser'
        registration_date:
          type: string
          format: date
          description: Дата запуска бота
        active:
          type: boolean
          description: Доступность амбассадора в телеграм
    Placement:
      description: Площадка размещения отчета
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID площадки
          example: '4e3dfd98-d825-41de-a52a-7e41a8483a58'
        site:
          type: string
          description: Название площадки
          example: 'Хабр'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    ReportStatus:
      description: Статус отчета
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID статуса отчета
          example: '7bfcac94-a9ef-4358-b6b8-4c802fc09679'
        status_name:
          type: string
          description: Название статуса
          example: 'На рассмотрении'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    ReportType:
      description: Тип отчета
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID типа отчета
          example: '09b7216a-2f09-4fb3-a9c1-fd95bd33bb00'
        type_name:
          type: string
          description: Название типа
          example: 'Статья'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    DeliveryStatus:
      description: Статус отправки
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID статуса отправки
          example: '968fc610-7d8f-4944-acc6-db2b09f8ac12'
        status_name:
          type: string
          description: Название статуса
          example: 'Передан в службу доставки'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    MessageType:
      description: Тип сообщения
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID типа сообщения
          example: 'adc9f111-307a-4209-8f44-a54805d0f439'
        type_name:
          type: string
          description: Название типа
          example: 'Отчет по гайду'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    MessageStatus:
      description: Статус сообщения
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID статуса сообщения
          example: 'c38c4ca6-e78e-47ff-aaa9-de98a6cb0fbd'
        status_name:
          type: string
          description: Название статуса
          example: 'Шаблон'
        available:
          type: boolean
          description: доступность для выбора
          example: True
    Manager:
      description: Менеджер проекта
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID менеджера
          example: '423a318e-6152-48f3-97b2-d2e6b77142f1'
        first_name:
          type: string
          description: Имя менеджера
          example: 'Иван'
        last_name:
          type: string
          description: Фамилия менеджера
          example: 'Иванов'
        middle_name:
          type: string
          description: Отчество менеджера
          example: 'Иван'
        email:
          type: string
          format: email
          description: E-mail менеджера
          example: 'ivan@ivanov.ru'
    AmbassadorShortInfo:
      description: Краткая информация об амбассадоре
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID амбассадора
          example: '435e536e-3e2e-4e6f-a8d8-5ac36d650bb4'
        first_name:
          description: Имя амбасадора
          type: string
          example: Иван
        last_name:
          description: Фамилия амбасадора
          type: string
          example: Иванов
        middle_name:
          description: Отчество амбасадора
          type: string
          example: Иванович
        status:
          $ref: '#/components/schemas/AmbassadorStatus'
        promocode:
          description: Промокод
          type: string
          example: '123456'
        telegram:
          $ref: '#/components/schemas/TelegramBot'
        receipt_date:
          description: Дата регистрации как амбассадора (для кандидата - пустое поле)
          type: string
          format: date
        sex:
          description: Пол амбассадора (0 - Мужчины, 1 - Женщины)
          type: integer
          enum: [ 0, 1]
          example: 0
        address_country:
          type: string
          description: Страна проживания
          example: 'Россия'
        address_index:
          type: string
          description: Почтовый индекс
          example: '123423'
        address_region:
          type: string
          description: Регион/область
          example: 'Москва'
        address_district:
          type: string
          description: Район
          example: 'Хорошёво-Мнёвники'
        address_settlement:
          type: string
          description: Город
          example: 'Москва'
        address_street:
          type: string
          description: Улица
          example: 'проспект Маршала Жукова'
        address_house:
          type: string
          description: Дом
          example: '45'
        address_building:
          type: string
          description: Корпус
          example: '1'
        address_apartment:
          type: string
          description: Квартира
          example: '12'
        program:
          $ref: '#/components/schemas/Program'
    AmbassadorFullInfo:
      description: Полная информация об амбассадоре
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID амбассадора
          example: '435e536e-3e2e-4e6f-a8d8-5ac36d650bb4'
        first_name:
          description: Имя амбасадора
          type: string
          example: Иван
        last_name:
          description: Фамилия амбасадора
          type: string
          example: Иванов
        middle_name:
          description: Отчество амбасадора
          type: string
          example: Иванович
        status:
          $ref: '#/components/schemas/AmbassadorStatus'
        promocode:
          description: Промокод
          type: string
          example: '123456'
        telegram_bot:
          $ref: '#/components/schemas/TelegramBot'
        sex:
          description: Пол амбассадора (0 - Мужчины, 1 - Женщины)
          type: integer
          enum: [ 0, 1]
          example: 0
        address_country:
          type: string
          description: Страна проживания
          example: 'Россия'
        address_index:
          type: string
          description: Почтовый индекс
          example: '123423'
        address_region:
          type: string
          description: Регион/область
          example: 'Москва'
        address_district:
          type: string
          description: Район
          example: 'Хорошёво-Мнёвники'
        address_settlement:
          type: string
          description: Город
          example: 'Москва'
        address_street:
          type: string
          description: Улица
          example: 'проспект Маршала Жукова'
        address_house:
          type: string
          description: Дом
          example: '45'
        address_building:
          type: string
          description: Корпус
          example: '1'
        address_apartment:
          type: string
          description: Квартира
          example: '12'
        manager:
          $ref: '#/components/schemas/Manager'
        receipt_date:
          type: string
          format: date
          description: Дата приема в амбассадоры
        remainder_counter:
          type: integer
          minimum: 0
          description: Счетчик напоминаний
          example: 1
        size_clothing:
          type: string
          description: Размер одежды
          example: 'М'
        size_shoe:
          type: number
          description: Размер обуви
          example: 37.5
        phone_number:
          type: string
          pattern: \+7[0-9]{3}[0-9]{3}[0-9]{2}[0-9]{2}
          description: Номер телефона
          example: '+79999999999'
        email:
          type: string
          format: email
          description: Адрес электронной почты
          example: 'ivan@ivanov.ru'
        note:
          type: string
          description: Заметка
          example: 'Просто класный амбассадор'
        blog_link:
          type: string
          format: uri
          description: Ссылка на блог
          example: 'http://ivanov.ru/blog'
        place_work:
          type: string
          description: Место работы
          example: 'Частная компания'
        specialty_work:
          type: string
          description: Должность/специальность
          example: 'Генеральный директор'
        educational_institution:
          type: string
          description: Учебное заведение
          example: 'МГУ'
        goal:
          type: object
          properties:
            goal:
              $ref: '#/components/schemas/Goal'
            own_version:
              type: string
              description: Свой вариант
              example: 'Модное веяние'
        activities:
          type: array
          items:
            $ref: '#/components/schemas/Activity'
        achivies:
          type: array
          items:
            $ref: '#/components/schemas/Achive'
        program:
          $ref: '#/components/schemas/Program'
    AmbassadorUpdate:
      description: Обновление информации об амбассадоре
      type: object
      properties:
        first_name:
          description: Имя амбасадора
          type: string
          example: Иван
        last_name:
          description: Фамилия амбасадора
          type: string
          example: Иванов
        middle_name:
          description: Отчество амбасадора
          type: string
          example: Иванович
        status:
          type: string
          format: uuid
          description: ID статуса
          example: '14924fa0-b3c8-4abc-9771-f5d6e05496cb'
        promocode:
          description: Промокод
          type: string
          example: '123456'
        sex:
          description: Пол амбассадора (0 - Мужчины, 1 - Женщины)
          type: integer
          enum: [ 0, 1]
          example: 0
        address_country:
          type: string
          description: Страна проживания
          example: 'Россия'
        address_index:
          type: string
          description: Почтовый индекс
          example: '123423'
        address_region:
          type: string
          description: Регион/область
          example: 'Москва'
        address_district:
          type: string
          description: Район
          example: 'Хорошёво-Мнёвники'
        address_settlement:
          type: string
          description: Город
          example: 'Москва'
        address_street:
          type: string
          description: Улица
          example: 'проспект Маршала Жукова'
        address_house:
          type: string
          description: Дом
          example: '45'
        address_building:
          type: string
          description: Корпус
          example: '1'
        address_apartment:
          type: string
          description: Квартира
          example: '12'
        receipt_date:
          type: string
          format: date
          description: Дата приема в амбассадоры
        remainder_counter:
          type: integer
          minimum: 0
          description: Счетчик напоминаний
          example: 1
        size_clothing:
          type: string
          description: Размер одежды
          example: 'М'
        size_shoe:
          type: number
          description: Размер обуви
          example: 37.5
        phone_number:
          type: string
          pattern: \+7[0-9]{3}[0-9]{3}[0-9]{2}[0-9]{2}
          description: Номер телефона
          example: '+79999999999'
        email:
          type: string
          format: email
          description: Адрес электронной почты
          example: 'ivan@ivanov.ru'
        note:
          type: string
          description: Заметка
          example: 'Просто класный амбассадор'
        blog_link:
          type: string
          format: uri
          description: Ссылка на блог
          example: 'http://ivanov.ru/blog'
        place_work:
          type: string
          description: Место работы
          example: 'Частная компания'
        specialty_work:
          type: string
          description: Должность/специальность
          example: 'Генеральный директор'
        educational_institution:
          type: string
          description: Учебное заведение
          example: 'МГУ'
        goal:
          type: object
          properties:
            goal:
              type: string
              format: uuid
              description: ID цели
              example: '8440ce07-e1ce-4914-a1d0-d25b5ad9f161'
            own_version:
              type: string
              description: Свой вариант
              example: 'Модное веяние'
        activities:
          type: array
          items:
            type: string
            format: uuid
            description: ID активности
            example: '15bf0dee-267a-4e8b-9de8-1b5b9fb55dfe'
        achivies:
          type: array
          items:
            type: string
            format: uuid
            description: ID ачивки
            example: 'da129117-69f2-404c-8ab0-728b106a8926'
        program:
          type: string
          format: uuid
          description: ID программы обучения
          example: 'a40bd4e6-5f6d-4f47-9261-90a7a0186171'
    AmbassadorCreate:
      description: Обновление информации об амбассадоре
      type: object
      properties:
        telegram_id:
          description: Telegram ID амбассадора
          type: string
          example: '12345678'
        first_name:
          description: Имя амбасадора
          type: string
          example: Иван
        last_name:
          description: Фамилия амбасадора
          type: string
          example: Иванов
        middle_name:
          description: Отчество амбасадора
          type: string
          example: Иванович
        sex:
          description: Пол амбассадора (0 - Мужчины, 1 - Женщины)
          type: integer
          enum: [ 0, 1]
          example: 0
        address_country:
          type: string
          description: Страна проживания
          example: 'Россия'
        address_region:
          type: string
          description: Регион/область
          example: 'Москва'
        phone_number:
          type: string
          pattern: \+7[0-9]{3}[0-9]{3}[0-9]{2}[0-9]{2}
          description: Номер телефона
          example: '+79999999999'
        email:
          type: string
          format: email
          description: Адрес электронной почты
          example: 'ivan@ivanov.ru'
        blog_link:
          type: string
          format: uri
          description: Ссылка на блог
          example: 'http://ivanov.ru/blog'
        place_work:
          type: string
          description: Место работы
          example: 'Частная компания'
        specialty_work:
          type: string
          description: Должность/специальность
          example: 'Генеральный директор'
        goal:
          type: object
          properties:
            goal:
              type: string
              format: uuid
              description: ID цели
              example: '8440ce07-e1ce-4914-a1d0-d25b5ad9f161'
            own_version:
              type: string
              description: Свой вариант
              example: 'Модное веяние'
        activities:
          type: array
          items:
            type: string
            format: uuid
            description: ID активности
            example: '15bf0dee-267a-4e8b-9de8-1b5b9fb55dfe'
        program:
          type: string
          format: uuid
          description: ID программы обучения
          example: 'a40bd4e6-5f6d-4f47-9261-90a7a0186171'
      required:
        - telegram_id
        - first_name
        - last_name
        - sex
        - address_country
        - address_region
        - phone_number
        - email
        - blog_link
        - place_work
        - specialty_work
        - goals
        - activities
        - program
    NotFound:
      description: Объект не найден
      type: object
      properties:
        detail:
          description: 'Описание ошибки'
          example: "Страница не найдена."
          type: string
    ValidationError:
      description: Стандартные ошибки валидации DRF
      type: object
      properties:
        field_name:
          description: 'Название поля, в котором произошли ошибки. Таких полей может быть несколько'
          example: [ 'Обязательное поле.' ]
          type: array
          items:
            type: string
    ReportInfo:
      description: Отчет амбассадора
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID отчета
          example: 'f2271f55-44bb-4551-a5fb-804c9d8561c8'
        report_date:
          type: string
          format: date
          description: Дата отчета
        content_link:
          type: string
          format: uri
          description: Ссылка на контент отчета
          example: 'http://ivanov.ru/blog/first_report'
        screen:
          description: 'Картинка, закодированная в Base64'
          example: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAgMAAABieywaAAAACVBMVEUAAAD///9fX1/S0ecCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNoAAAAggCByxOyYQAAAABJRU5ErkJggg=='
          type: string
          format: binary
        placement:
          $ref: '#/components/schemas/Placement'
        report_status:
          $ref: '#/components/schemas/ReportStatus'
        sign_junior:
          description: Признак начинающего амбассадора
          type: boolean
          example: True
        grade:
          description: Оценка отчета
          type: integer
          minimum: 1
          maximum: 10
          example: 8
        report_type:
          $ref: '#/components/schemas/ReportType'
    ReportUpdate:
      description: Обновление отчета амбассадора
      type: object
      properties:
        report_date:
          type: string
          format: date
          description: Дата отчета
        content_link:
          type: string
          format: uri
          description: Ссылка на контент отчета
          example: 'http://ivanov.ru/blog/first_report'
        screen:
          description: 'Картинка, закодированная в Base64'
          example: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAgMAAABieywaAAAACVBMVEUAAAD///9fX1/S0ecCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNoAAAAggCByxOyYQAAAABJRU5ErkJggg=='
          type: string
          format: binary
        placement:
          type: string
          format: uuid
          description: ID площадки
          example: '56298889-fc98-4cc3-8779-19df6d5820a3'
        report_status:
          type: string
          format: uuid
          description: ID статуса отчета
          example: '5438731f-7cd6-49a9-a595-f79714942953'
        sign_junior:
          description: Признак начинающего амбассадора
          type: boolean
          example: True
        grade:
          description: Оценка отчета
          type: integer
          minimum: 1
          maximum: 10
          example: 8
        report_type:
          type: string
          format: uuid
          description: ID типа отчета
          example: '8bd8b1d0-95e2-461a-929f-956d7d5f8d20'
    ReportCreate:
      description: Создание отчета амбассадора
      type: object
      properties:
        telegram_id:
          description: Telegram ID амбассадора
          type: string
          example: '12345678'
        report_date:
          type: string
          format: date
          description: Дата отчета
        content_link:
          type: string
          format: uri
          description: Ссылка на контент отчета
          example: 'http://ivanov.ru/blog/first_report'
        screen:
          description: 'Картинка, закодированная в Base64'
          example: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAgMAAABieywaAAAACVBMVEUAAAD///9fX1/S0ecCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNoAAAAggCByxOyYQAAAABJRU5ErkJggg=='
          type: string
          format: binary
        placement:
          type: string
          format: uuid
          description: ID площадки
          example: '56298889-fc98-4cc3-8779-19df6d5820a3'
        sign_junior:
          description: Признак начинающего амбассадора
          type: boolean
          example: True
        report_type:
          type: string
          format: uuid
          description: ID типа отчета
          example: '8bd8b1d0-95e2-461a-929f-956d7d5f8d20'
      required:
        - telegram_id
        - report_date
        - content_link
        - sign_junior
        - report_type
        - placement
    Program:
      description: Программа обучения
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ID программы обучения
          example: 'a40bd4e6-5f6d-4f47-9261-90a7a0186171'
        program_name:
          type: string
          description: Название программы обучения
          example: 'Web design'
        available:
          type: boolean
          description: доступность для выбора
          example: True
        


  responses:
    AuthorizationError:
      description: Ошибка авторизации
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AuthorizationError'
    AuthenticationError:
      description: Ошибка аутентификации
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AuthenticationError'
    GoalList:
      description: Список целей обучения
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Goal'
    ActivityList:
      description: Список видов деятельности
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Activity'
    AchiveList:
      description: Список доступных ачивок
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Achive'
    AmbassadorStatusList:
      description: Список статусов амбассадора
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/AmbassadorStatus'
    PlacementList:
      description: Список площадок
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Placement'
    ReportStatusList:
      description: Список статусов отчета
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ReportStatus'
    ReportTypeList:
      description: Список типов отчета
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ReportType'
    DeliveryStatusList:
      description: Список статусов доставки
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/DeliveryStatus'
    MessageTypeList:
      description: Список типов сообщения
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/MessageType'
    MessageStatusList:
      description: Список статусов отчета
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/MessageStatus'
    ManagerList:
      description: Список менеджеров
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Manager'
    AmbassadorList:
      description: Список амбассадоров
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/AmbassadorShortInfo'
    AmbassadorFullInfo:
      description: Полная информация об амбассадоре
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AmbassadorFullInfo'
    AmbassadorCreate:
      description: Полная информация об амбассадоре
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AmbassadorShortInfo'
    NotFound:
      description: Объект не найден
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/NotFound'
    ValidationError:
      description: 'Ошибки валидации в стандартном формате DRF'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ValidationError'
    ReportList:
      description: Список отчетов амбассадора
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ReportInfo'
    ReportUpdate:
      description: Список отчетов амбассадора
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ReportInfo'
    ReportInfo:
      description: Список отчетов амбассадора
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ReportInfo'
    ReportCreate:
      description: Список отчетов амбассадора
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ReportInfo'
    ProgramList:
      description: Список программ обучения
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/Program'


  securitySchemes:
    Token:
      description: 'Авторизация по токену.<br> Все запросы от имени пользователя должны выполняться с заголовком "Authorization: Token TOKENVALUE"'
      type: http
      scheme: bearer
      bearerFormat: Token